Muchas gracias, ahora necesito que por favor analices bien todo el proyecto para decirme hasta que parte esta de este sprint, y que faltaría:

ANTES DE NADA EXTREMADAMENTE IMPORTANTE, AQUI SOLO VAS A ANALIZAR NO PUEDES CAMBIAR NADA DE CODIGO

Sprint:

ID: HU-01

Historia: (Enabler) Configurar la solución .NET con Arquitectura Onion.

Implicaciones (Alcance Real):

Creación de todos los proyectos de la solución:

Domain: Contendrá las Entidades (Clientes, Productos, Facturas, Usuarios, Lotes, Empresa, etc.), Interfaces de Repositorios, Enums.

Application: Contendrá los Casos de Uso (Servicios), DTOs (Data Transfer Objects), Lógica de negocio principal (Validaciones) e Interfaces de servicios externos.

Infrastructure: Contendrá la implementación de los Repositorios (EF Core), Configuración de la DB, y servicios externos (Email, WS del SRI).

Presentation (o API): Los Controllers de la API REST que consumirá Blazor.

ID: HU-02

Historia: (Enabler) Configurar el repositorio en Git usando Git Flow.

Implicaciones (Alcance Real):

Creación del repositorio remoto (GitHub, Azure DevOps, etc.).

Definición de las ramas main y develop.

Definición de políticas de ramas (ej. feature/, hotfix/, release/).

Configuración de un pipeline básico de CI (Integración Continua) para que el código compile automáticamente en cada push a develop.

ID: HU-03

Historia: (Enabler) Configurar EF Core, DB (SQL Server) y Migraciones iniciales.

Implicaciones (Alcance Real):

Esta es una de las HUs más grandes. "Migraciones iniciales" debe incluir el schema de base de datos para todo el sistema.

Creación de las entidades y configuraciones de EF Core para:

Módulo de Configuración: Empresa (RUC, Razón Social), Establecimiento, PuntoEmision.

Módulo de Usuarios: Usuario (Vendedor, Admin, Bodeguero), Rol, Permisos.

Módulo de Clientes: Cliente (Datos fiscales, email, etc.).

Módulo de Inventario: Producto, ImpuestoAsignado, Lote (con costo, caducidad, stock).

Módulo de Ventas: FacturaHeader, FacturaDetalle.

Módulo Financiero (Implícito): CuentaPorCobrar, CuentaPorPagar, RegistroDePago.

ID: HU-04

Historia: (Enabler) Configurar la comunicación base API (.NET Core) - Frontend (Blazor).

Implicaciones (Alcance Real):

Implementación del mecanismo de Autenticación y Autorización.

Configuración de JWT (JSON Web Tokens) en la API.

Configuración del AuthenticationStateProvider en Blazor.

Creación de las pantallas de Login y Logout.

Creación de un servicio ApiClient base en Blazor (usando HttpClient) que adjunte el token a todas las peticiones.

ID: HU-05

Historia: Como usuario, quiero Crear, Editar y Listar Clientes.

Implicaciones (Alcance Real):

"Como usuario" implica la existencia de roles. Esta HU debe incluir la gestión de usuarios.

Vistas del Administrador:

CRUD (con borrado lógico) para Usuarios (Vendedores, Bodegueros, otros Admins).

CRUD para Roles y asignación de permisos.

CRUD completo (con borrado lógico) para Clientes.

Vistas del Vendedor:

CRUD (Crear, Editar, Listar) para Clientes. El Vendedor no puede gestionar usuarios.

El formulario de Cliente debe incluir todos los campos fiscales (RUC/Cédula, Razón Social, Email, Dirección, Teléfono).

ID: HU-06

Historia: Como usuario, quiero Crear y Listar Productos base.

Implicaciones (Alcance Real):

"Productos base" implica la definición completa del producto antes del inventario.

CRUD completo para Productos (Código, Nombre, Descripción, Precio de Venta/PVP).

Implica el CRUD de Impuestos (ej. "IVA 12%", "IVA 0%", "ICE").

Funcionalidad para asignar qué impuestos aplica a cada producto (ej. "Producto A" paga "IVA 12%").

Checkbox de control: "Maneja Inventario" y "Maneja Lotes".

ID: HU-07

Historia: Como usuario, quiero Registrar la Compra de un Lote (asociado a un Producto).

Implicaciones (Alcance Real):

Flujo del Bodeguero.

Pantalla de "Registrar Compra / Ingreso de Inventario".

Formulario para seleccionar un Producto (de HU-06), ingresar Cantidad, Precio de Costo, y Fecha de Caducidad.

Acción 1 (Inventario): Al guardar, crea un nuevo registro en la tabla Lote, actualizando el stock total del producto.

Acción 2 (Finanzas): Esta HU implica la creación de una Cuenta por Pagar al proveedor, para que el Admin sepa que esa factura debe ser pagada.

ID: HU-08

Historia: Como usuario, quiero Ver el Stock de un producto (listando sus Lotes).

Implicaciones (Alcance Real):

Una consulta tipo "Kardex" o "Detalle de Stock".

Vista que muestra el Stock Total (suma de todos los lotes activos).

Vista que muestra la lista de Lotes de ese producto, con su stock individual, costo y fecha de caducidad.